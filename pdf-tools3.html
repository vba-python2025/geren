<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF工具箱</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <!-- PDF处理库 -->
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <!-- 导航栏与主页一致 -->
        <!-- 复制index.html的导航栏代码 -->
    </nav>

    <div class="container mt-5">
        <!-- 分割PDF功能 -->
        <div class="card mb-4">
            <div class="card-header bg-info text-white">PDF分割</div>
            <div class="card-body">
                <input type="file" class="form-control mb-3" id="splitPdfFile" accept=".pdf">
                <button onclick="splitPDF()" class="btn btn-info">分割第一页</button>
            </div>
        </div>

        <!-- 合并PDF功能 -->
        <div class="card">
            <div class="card-header bg-success text-white">PDF合并</div>
            <div class="card-body">
                <input type="file" class="form-control mb-3" id="mergePdfFiles" accept=".pdf" multiple>
                <button onclick="mergePDF()" class="btn btn-success">合并文件</button>
            </div>
        </div>
    </div>

    <script>
        // 分割PDF（同之前代码）
        async function splitPDF() {
            const file = document.getElementById('splitPdfFile').files[0];
            if (!file) return alert('请选择文件');
            
            const pdfBytes = await file.arrayBuffer();
            const pdfDoc = await PDFLib.PDFDocument.load(pdfBytes);
            // ...（分割逻辑）
        }

        // 合并PDF
        async function mergePDF() {
            const files = document.getElementById('mergePdfFiles').files;
            if (files.length < 2) return alert('请选择至少2个PDF');

            const mergedPdf = await PDFLib.PDFDocument.create();
            for (const file of files) {
                const bytes = await file.arrayBuffer();
                const pdf = await PDFLib.PDFDocument.load(bytes);
                const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
                pages.forEach(page => mergedPdf.addPage(page));
            }

            const mergedBytes = await mergedPdf.save();
            // 触发下载...
        }
    </script>
</body>
</html>
